[project]
name = "mtga-app"
version = "0.1.0"
description = "MTGA Tauri Python backend"
readme = "README.md"
requires-python = ">=3.13"
dependencies = [
    "pytauri==0.8.*",
    "pytauri-wheel==0.8.*",
    "flask",
    "requests",
    "platformdirs>=4.3.0",
    "PyYAML",
]

[build-system]
requires = ["setuptools>=80"]
build-backend = "setuptools.build_meta"

[tool.setuptools]
include-package-data = false

[tool.setuptools.packages.find]
where = ["."]
include = ["mtga_app", "mtga_app.*", "modules", "modules.*"]
exclude = ["build", "build.*", "target", "target.*", "pyembed", "pyembed.*"]

[tool.setuptools.package-data]
modules = ["resources/ca/**", "resources/openssl/**"]

[dependency-groups]
dev = [
    "pyright>=1.1.408",
    "ruff>=0.14.4",
    "yamllint>=1.37.1",
]

[tool.pyright]
pythonVersion = "3.13"
venvPath = "."
venv = ".venv"
extraPaths = ["..", "../.."]
exclude = [
    ".uv_cache",
    "**/node_modules",
    "**/__pycache__",
    # ğŸ‘‡ necessary, because when `tauri-cli bundles python,
    # it will copy `pyembed` to the target directory (i.e., rust output dir).
    "**/target",
    # ğŸ‘†
    "**/dist",
    "**/.venv",
    "**/.*",
    "**/build",
    "**/mtga_app.egg-info",
    "**/pyembed"
]

[tool.ruff]
line-length = 100
target-version = "py313"

# å¼€å¯å¸¸ç”¨è§„åˆ™é›†ï¼šE/F æ˜¯åŸºç¡€é”™è¯¯ï¼›I=importsï¼›B=bugbearï¼›UP=pyupgradeï¼›SIM=ç®€åŒ–ï¼›
# PL= Pylint è§„åˆ™å­é›†ï¼ˆå‡å°‘ä½ å¯¹ Pylint çš„ä¾èµ–ï¼‰
[tool.ruff.lint]
select  = ["E", "F", "I", "B", "UP", "SIM", "PL"]
fixable = ["ALL"]  # å°½å¯èƒ½è‡ªåŠ¨ä¿®å¤

[tool.ruff.format]
line-ending = "auto"
